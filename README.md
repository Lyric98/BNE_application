# BNE_application

## Installation

To install requirements:
```
$ conda env update -f environment.yml
$ conda activate BNE
```
This environment includes all necessary dependencies.

To create an `BNE` executable to run experiments, run `pip install -e .`.


## Instructions for Use

### Reproducibility 
Each Jupyter-notebook file (.ipynb) or Python file (.py) can be run independently to generate the examples, simulation experiment, or the case study. The R code can be run to prepare the data for the case study. Note that base data refers to data that the base models are trained on; train data refers to data that the ensemble is trained on, and test data refers to data that the ensemble is evaluated on. 

`BNE_examine.ipynb` includes all simulation codes (1D/2D toy models).

For the case study experiments, Table 4 and Table S3 are generated diretly from `DirectlyEnsembles.ipynb`; Figure 4, Figure 5 and Figure S1 are generated by 




### Tuning Hyperparameters
```
python BNE_tune.py --bma_gp_lengthscale .05 --bma_gp_l2_regularizer 0.09 --bne_gp_lengthscale 4 --bne_gp_l2_regularizer 5
```

